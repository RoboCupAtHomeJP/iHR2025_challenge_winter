<sub>[READMEへ](../../README.md)</sub>

[日本語](./sg_ja.md) | [English](./sg_en.md)

# Storing Groceries (SG)

参考動画: https://www.youtube.com/watch?v=gzdSRsNC25s

> [!NOTE]  
> この動画は過去に実施された競技の様子である．本競技のルールとは異なる可能性がある．


ロボットは食料品を棚のあるキャビネットに保管する．リンゴが他の果物の隣に保管されるなど，オブジェクトは類似性に基づいて棚に分類される．

**メインゴール (Main goal):** オブジェクトをテーブルからキャビネットに移動し，カテゴリまたは類似性でグループ化する．シリアル容器を補充する．

**任意ゴール (Optional goals)**
<!-- 1. キャビネットのドアを開ける -->
1. 小さなオブジェクトを移動する
1. 重いオブジェクトを移動する
1. 買い物袋からオブジェクトを把持する

### フォカス (Focus)
オブジェクトの検出と認識，オブジェクトの特徴認識，オブジェクトの操作．

### セットアップ (Setup)
* **場所 (Locations):**
    * **開始場所 (Start location):** テストの前に，ロボットはアリーナの外で待機し，ドアが開いたらテストエリアに移動する．
    * **テスト場所 (Test location):** テストエリアには，キャビネットとテーブルが近くにある．
* **人物 (People):**
    * ロボットが人間の支援を必要としない限り，テストに人は関与しない．
* **家具 (Furniture):**
    * **テーブル (Table):** テーブルには5〜10個のオブジェクトが置かれており，ロボットはどれをどの順序でつかむかを選択できる．小さなテーブルでは，ロボットがスペースを空けると新しいオブジェクトが追加される．
    * **買い物袋 (Shopping Bag):** 追加の5〜10個のアイテムが入った買い物袋が，テーブルの横の地面に置かれている．
    * **キャビネット (Cabinet):** キャビネットには，カテゴリまたは類似性によってグループ化されたオブジェクトが，さまざまな棚に配置されている．
    <!-- * **キャビネットのドア (Cabinet door):** キャビネットは最初は閉まっている．ロボットがドアを開けられない場合は，審判に支援を明確に要求する必要がある． -->
* **オブジェクト (Objects)**:
    * **テーブルのオブジェクト (Table objects):** テーブルのオブジェクトは任意に配置されている．
    <!-- * **キャビネットのオブジェクト (Cabinet objects):** オブジェクトはキャビネットのドアの後ろに置かれており，ドアが開いていないとアクセスできません． -->
    * **キャビネットのオブジェクト (Cabinet objects):** オブジェクトはキャビネットに置かれている．
    * **容器 (Containers):** コーンフレーク用の容器がテーブルに置かれている．
    <!-- * **容器 (Containers):** のり用の容器がテーブルに置かれている．（日本版） -->

### 手順 (Procedure)
1.  **テーブルの場所 (Table location):** Setup Dayに，OC/TCは，テストで使用されるテーブルとキャビネット，およびおおよそのテーブルの場所を発表する．
2.  **テスト開始 (Test start):** アリーナのドアが開くと，ロボットはテストエリアに入る．
3.  **食料品の保管 (Storing groceries):** テーブルを特定した後，ロボットはオブジェクトをテーブルからキャビネットに移動する．
4.  **シリアルを注ぐ (Pouring cereal):** ロボットは，指定された開いた容器にシリアルを注ぐ．
<!-- 4.  **乾のりを注ぐ (Pouring dried seaweed):** ロボットは，指定された開いた容器にシリアルを注ぐ．（日本版） -->

### 追加のルールと備考 (Additional rules and remarks)
1.  **テーブル (Table):** テーブルのおおよその場所は事前に発表され，キャビネットの近くに配置される．
2.  **誤った分類 (Incorrect categorization):** オブジェクトがキャビネットに配置されているが，類似のオブジェクトがある棚にない場合，スコアが減点される．この減点は，誤って保管されたオブジェクトごとに適用される．
3.  **新しいカテゴリ (New category):** 棚に配置されているどのカテゴリにも属さないオブジェクトは，新しい棚にまとめてグループ化する必要がある．
4.  **デウス・エクス・マキナ (Deus Ex Machina):** 特に次のような人間の支援を受けた場合，スコアが減点される．
    * オブジェクトをどこに置くかをロボットに教えたり，指示したりする
    * ロボットの代わりにオブジェクトを移動する
    <!-- * キャビネットのドアを開ける -->
5.  **認識の伝達 (Communicating Perception)**: ロボットは，その認識をOC/TCに明確に伝える必要がある．
    オブジェクトを指さすか，オブジェクトを拾おうとするだけで十分である．
    視覚UIを使用する場合，ロボットはOC/TCがどこを見ればよいかを示し，ディスプレイが明確にアクセスできるようにする必要がある．
    チームがバウンディングボックスを利用したい場合は，OC/TCが簡単に確認および検証できるように，一度に1つのオブジェクトのみをバウンディングボックスで表示するようにしてください．
    周囲のシーンも表示されている必要があり，トリミングされたビューだけでは不十分である．

### スコアシート (Score sheet)

**制限時間:** 7分

| アクション | ポイント | 最大回数 |
| :--- | :--- | :--- |
| **メインゴール** |
| &emsp; - テーブルへの移動 | 15 | 1 |
| &emsp; - オブジェクトを認識し，正しく分類する | 15 | 5 |
| &emsp; - キャビネットへの輸送のためにオブジェクトを拾い上げる | 50 | 5 |
| &emsp; - 棚のオブジェクトを認識し，どこに置くべきかを示す | 15 | 5 |
| &emsp; - キャビネットにオブジェクトを置く | 15 | 5 |
| &emsp; - キャビネットの類似オブジェクトの隣にオブジェクトを置く | 50 | 5 |
| &emsp; - 容器にシリアルを注ぐ | 300 | 1 |
| 合計（ボーナスタスクを含まない） | 1490 |
| **ボーナス得点** |
| &emsp; - 買い物袋からオブジェクトを拾い上げる | 50 | 5 |
| &emsp; - 小さなオブジェクトを拾い上げる | 70 | 1 |
| &emsp; - 小さなオブジェクトを置く | 30 | 1 |
| &emsp; - 重いオブジェクトを拾い上げる | 70 | 1 |
| &emsp; - 重いオブジェクトを置く | 30 | 1 |
| 合計（ボーナスタスクのみ） | 450 |
| **Deus Ex Machina ペナルティ** |
| &emsp; - オブジェクトの認識と分類を誤る | -15 | 10 |
| &emsp; - 人間がロボットにオブジェクトを手渡す | -50 | 5 |
| &emsp; - 人間がキャビネットにオブジェクトを置く | -15 | 5 |
| &emsp; - 人間がキャビネットの類似オブジェクトの隣に置く | -50 | 5 |
| &emsp; - 人間が目標位置を指し示す | -25 | 5 |
| &emsp; - 人間が最初のキャビネットのドアを開ける | -200 | 1 |
| &emsp; - 人間が2番目のキャビネットのドアを開ける | -100 | 1 |
| &emsp; - シリアルを注ぐ際にこぼす | -100 | 1 |
| &emsp; - シリアルを箱の中に残す | -100 | 1 |
| &emsp; - 人間がボウルにシリアルを注ぐ | -300 | 1 |
| 合計（ボーナスタスクを含む） | 1940 |
<!-- | &emsp; - 最初のキャビネットのドアを開ける | 200 | 1 | -->
<!-- | &emsp; - 2番目のキャビネットのドアを開ける | 100 | 1 | -->
<!-- | &emsp; - 任意のオブジェクトを自律的に拾い上げる | 50 | N/A | -->
<!-- | &emsp; - 任意のオブジェクトを自律的に配置する | 50 | N/A | -->

**得点係用のスコアシート**: [(TBD) SG-score_sheet]()
<!-- **得点係用のスコアシート**: [SG-score_sheet](./doc/iHR-SG-score_sheet.pdf) -->


## 指示 (Instructions)

### OC/TCへ (To OC/TC)

セットアップデー:
* 使用するテーブルとキャビネットを発表する．
* テーブルのおおよその場所を発表する．
* 使用するバッグを選択する．
* 使用する容器を選択する．

競技開始前:
* テーブルに5〜10個のオブジェクトを置きます．
* 容器とコーンフレークをテーブルに置きます．
* テーブルの近くのバッグに5〜10個のオブジェクトを置きます．
* キャビネットにオブジェクトを配置し，カテゴリまたは類似性でグループ化する．
* キャビネットのドアを閉める．

### ボランティアへ (To Volunteer)

本タスクにはボランティアが関与しない．
